# 3D AI Pet - å®æ—¶äº¤äº’ AI æ¡Œé¢å® ç‰©

ä¸€ä¸ªåŸºäº React + Three.js + OpenAI çš„ 3D å®æ—¶äº¤äº’ AI åŠ©æ‰‹ï¼Œæ”¯æŒè¯­éŸ³å¯¹è¯ã€æ¡Œé¢æˆªå›¾æŸ¥çœ‹ã€è®°å¿†ç³»ç»Ÿå’Œè‡ªå®šä¹‰ 3D è§’è‰²ã€‚

![Demo](docs/demo.png)

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½

- ğŸ­ **3D è§’è‰²å±•ç¤º**ï¼šæ”¯æŒå¤šç§å†…ç½®è§’è‰²å’Œè‡ªå®šä¹‰ GLB/GLTF/FBX/OBJ æ¨¡å‹
- ğŸ’¬ **å®æ—¶ AI å¯¹è¯**ï¼šé›†æˆ OpenAI APIï¼Œæ”¯æŒæµå¼å¯¹è¯
- ğŸ—£ï¸ **è¯­éŸ³åˆæˆ (TTS)**ï¼šAI å›å¤è‡ªåŠ¨è½¬è¯­éŸ³æ’­æ”¾
- ğŸ¤ **è¯­éŸ³è¯†åˆ« (VAD)**ï¼šéº¦å…‹é£å®æ—¶ç›‘å¬ï¼Œå¯æ‰“æ–­ AI è¯´è¯
- ğŸ“¸ **æ¡Œé¢æˆªå›¾**ï¼šæŸ¥çœ‹å’Œåˆ†äº«æ¡Œé¢å†…å®¹
- ğŸ§  **è®°å¿†ç³»ç»Ÿ**ï¼šä¿å­˜å¯¹è¯å†å²å’Œç”¨æˆ·åå¥½
- âš™ï¸ **è‡ªå®šä¹‰è®¾ç½®**ï¼šç”¨æˆ·ä¿¡æ¯ã€API Key ç®¡ç†ã€è®°å¿†æµè§ˆ

### 3D ç‰¹æ€§

- ğŸ® **6 è‡ªç”±åº¦æ§åˆ¶**ï¼š
  - é¼ æ ‡æ‹–æ‹½æ—‹è½¬ï¼Œæ»šè½®ç¼©æ”¾
  - æ–¹å‘é”® â†â†’â†‘â†“ å¹³ç§»äººç‰©
  - Q/PageUp å‡é«˜ï¼ŒE/PageDown é™ä½
- ğŸ˜Š **é¢éƒ¨åŠ¨ç”»**ï¼šæ”¯æŒ Morph Targetsï¼ˆçœ¨çœ¼ã€å˜´å‹ã€è¡¨æƒ…ï¼‰
- ğŸ¨ **å¤šç§è§’è‰²**ï¼šå†…ç½® 5+ è§’è‰²ï¼Œæ”¯æŒå¯¼å…¥è‡ªå®šä¹‰æ¨¡å‹

### UI/UX

- ğŸŒˆ **æ¸å˜èƒŒæ™¯**ï¼šé’è‰²åˆ°æ·±è“ç§‘æŠ€æ„Ÿè®¾è®¡
- ğŸ“± **ä¸‰æ å¸ƒå±€**ï¼šå·¦ä¾§è§’è‰²åˆ—è¡¨ | ä¸­é—´ 3D + èŠå¤© | å³ä¾§æ§åˆ¶é¢æ¿
- ğŸ´ **å¡ç‰‡è®¾è®¡**ï¼šæ¯›ç»ç’ƒæ•ˆæœã€åŠé€æ˜ã€ç°ä»£åŒ–

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Node.js >= 18
- MongoDB (æœ¬åœ°æˆ–äº‘ç«¯)
- OpenAI API Key

### 1. å…‹éš†ä»“åº“

```bash
git clone https://github.com/ghlonghan007/aichatbot.git
cd aichatbot
```

### 2. å®‰è£…å‰ç«¯ä¾èµ–

```bash
npm install
```

### 3. å®‰è£…åç«¯ä¾èµ–

```bash
cd server
npm install
cd ..
```

### 4. é…ç½®ç¯å¢ƒå˜é‡

#### å‰ç«¯ (`.env`)

```env
VITE_API_URL=http://localhost:3001
```

#### åç«¯ (`server/.env`)

```env
PORT=3001
NODE_ENV=development
MONGODB_URI=mongodb://localhost:27017/3d-ai-pet
JWT_SECRET=your-secret-key-change-this
ENCRYPTION_KEY=your-32-character-encryption-key
DEFAULT_OPENAI_KEY=sk-your-openai-api-key
ALLOWED_ORIGINS=http://localhost:5173
```

### 5. å¯åŠ¨ MongoDB

```bash
# ä½¿ç”¨ Docker
docker run -d -p 27017:27017 --name mongodb mongo:latest

# æˆ–ä½¿ç”¨æœ¬åœ° MongoDB
mongod
```

### 6. å¯åŠ¨åç«¯æœåŠ¡å™¨

```bash
cd server
npm run dev
```

åç«¯å°†åœ¨ `http://localhost:3001` è¿è¡Œã€‚

### 7. å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨

åœ¨æ–°ç»ˆç«¯ä¸­ï¼š

```bash
npm run dev
```

å‰ç«¯å°†åœ¨ `http://localhost:5173` è¿è¡Œã€‚

## ğŸ“ é¡¹ç›®ç»“æ„

```
aichatbot/
â”œâ”€â”€ src/                      # å‰ç«¯æºç 
â”‚   â”œâ”€â”€ components/           # React ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Layout/           # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ AvatarList/       # è§’è‰²åˆ—è¡¨
â”‚   â”‚   â”œâ”€â”€ Chat/             # èŠå¤©ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ControlPanel/     # æ§åˆ¶é¢æ¿
â”‚   â”‚   â”œâ”€â”€ Settings/         # è®¾ç½®é¡µé¢
â”‚   â”‚   â”œâ”€â”€ Avatar3D.tsx      # 3D è§’è‰²æ¸²æŸ“
â”‚   â”‚   â”œâ”€â”€ ModelUploader.tsx # æ¨¡å‹ä¸Šä¼ 
â”‚   â”‚   â””â”€â”€ ScreenCapture.tsx # å±å¹•æ•è·
â”‚   â”œâ”€â”€ lib/                  # å·¥å…·åº“
â”‚   â”‚   â”œâ”€â”€ api.ts            # API å®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ tts.ts            # è¯­éŸ³åˆæˆ
â”‚   â”‚   â”œâ”€â”€ audio.ts          # éº¦å…‹é£ VAD
â”‚   â”‚   â”œâ”€â”€ modelLoader.ts    # 3D æ¨¡å‹åŠ è½½
â”‚   â”‚   â”œâ”€â”€ morphTargets.ts   # é¢éƒ¨åŠ¨ç”»
â”‚   â”‚   â””â”€â”€ lipSync.ts        # å”‡å½¢åŒæ­¥
â”‚   â”œâ”€â”€ styles/               # æ ·å¼æ–‡ä»¶
â”‚   â””â”€â”€ App.tsx               # ä¸»åº”ç”¨
â”œâ”€â”€ server/                   # åç«¯æºç 
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ models/           # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ routes/           # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ middleware/       # ä¸­é—´ä»¶
â”‚   â”‚   â”œâ”€â”€ utils/            # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ index.ts          # åç«¯å…¥å£
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ public/                   # é™æ€èµ„æº
â”‚   â””â”€â”€ glbdata/              # 3D æ¨¡å‹æ–‡ä»¶
â”œâ”€â”€ docs/                     # æ–‡æ¡£
â”‚   â”œâ”€â”€ MODEL_IMPORT_GUIDE.md # æ¨¡å‹å¯¼å…¥æŒ‡å—
â”‚   â””â”€â”€ CREATE_3D_CHARACTER_GUIDE.md # 3D è§’è‰²åˆ›å»ºæŒ‡å—
â”œâ”€â”€ package.json
â””â”€â”€ README.md
```

## ğŸ® ä½¿ç”¨æŒ‡å—

### åŸºæœ¬æ“ä½œ

1. **é€‰æ‹©è§’è‰²**ï¼šå·¦ä¾§ç‚¹å‡»è§’è‰²å¡ç‰‡åˆ‡æ¢
2. **èŠå¤©å¯¹è¯**ï¼šä¸­é—´ä¸‹æ–¹è¾“å…¥æ¡†å‘é€æ¶ˆæ¯
3. **3D æ§åˆ¶**ï¼š
   - é¼ æ ‡æ‹–æ‹½æ—‹è½¬è§†è§’
   - æ»šè½®ç¼©æ”¾
   - æ–¹å‘é”®å¹³ç§»è§’è‰²
   - Q/E æˆ– PageUp/PageDown è°ƒæ•´é«˜åº¦

### è®¾ç½® API Key

1. ç‚¹å‡»å³ä¾§ "é«˜çº§é€‰é¡¹" â†’ "âš™ï¸ æ‰“å¼€è®¾ç½®"
2. åˆ‡æ¢åˆ° "API å¯†é’¥" æ ‡ç­¾
3. è¾“å…¥ä½ çš„ OpenAI API Key
4. ç‚¹å‡»"ä¿å­˜ API Key"

### å¯¼å…¥è‡ªå®šä¹‰æ¨¡å‹

1. å³ä¾§æ§åˆ¶é¢æ¿æ‰¾åˆ° "å¯¼å…¥è‡ªå®šä¹‰æ¨¡å‹"
2. é€‰æ‹©æœ¬åœ°æ–‡ä»¶æˆ–è¾“å…¥æ¨¡å‹ URL
3. æ”¯æŒæ ¼å¼ï¼šGLB, GLTF, FBX, OBJ

æ¨èä½¿ç”¨ [Ready Player Me](https://readyplayer.me) åˆ›å»ºè‡ªå®šä¹‰è§’è‰²ã€‚

### æŸ¥çœ‹è®°å¿†å’Œå¯¹è¯å†å²

1. æ‰“å¼€è®¾ç½®
2. åˆ‡æ¢åˆ° "è®°å¿†ç®¡ç†" æˆ– "å¯¹è¯å†å²" æ ‡ç­¾
3. æœç´¢ã€æŸ¥çœ‹æˆ–åˆ é™¤å†å²è®°å½•

## ğŸ“š æ–‡æ¡£

- [æ¨¡å‹å¯¼å…¥æŒ‡å—](docs/MODEL_IMPORT_GUIDE.md)
- [3D è§’è‰²åˆ›å»ºæŒ‡å—](docs/CREATE_3D_CHARACTER_GUIDE.md)
- [åç«¯ API æ–‡æ¡£](server/README.md)

## ğŸ”§ æŠ€æœ¯æ ˆ

### å‰ç«¯

- **React 18** - UI æ¡†æ¶
- **TypeScript** - ç±»å‹å®‰å…¨
- **Vite** - æ„å»ºå·¥å…·
- **Three.js** - 3D æ¸²æŸ“
- **three-stdlib** - Three.js å·¥å…·é›†
- **Axios** - HTTP å®¢æˆ·ç«¯

### åç«¯

- **Node.js** - è¿è¡Œæ—¶
- **Express** - Web æ¡†æ¶
- **TypeScript** - ç±»å‹å®‰å…¨
- **MongoDB** - æ•°æ®åº“
- **Mongoose** - ODM
- **OpenAI** - AI æœåŠ¡
- **JWT** - è®¤è¯
- **Crypto** - åŠ å¯†

## ğŸ¨ è‡ªå®šä¹‰

### æ·»åŠ æ–°è§’è‰²

1. å°† GLB æ–‡ä»¶æ”¾åˆ° `public/glbdata/` ç›®å½•
2. åœ¨ `src/App.tsx` çš„ `LOCAL_MODELS` æ•°ç»„ä¸­æ·»åŠ ï¼š

```typescript
const LOCAL_MODELS = [
  // ...
  { name: 'æ–°è§’è‰²', path: '/glbdata/new-character.glb' },
];
```

### ä¿®æ”¹ UI ä¸»é¢˜

ç¼–è¾‘ `src/styles/globals.css`ï¼š

```css
/* ä¿®æ”¹æ¸å˜èƒŒæ™¯ */
background: linear-gradient(135deg, #your-color-1 0%, #your-color-2 100%);

/* ä¿®æ”¹ä¸»é¢˜è‰² */
--primary-color: #00bcd4;
```

## ğŸ› æ•…éšœæ’æŸ¥

### å‰ç«¯æ— æ³•è¿æ¥åç«¯

æ£€æŸ¥ `.env` ä¸­çš„ `VITE_API_URL` æ˜¯å¦æ­£ç¡®ã€‚

### OpenAI API é”™è¯¯

1. ç¡®è®¤ API Key æœ‰æ•ˆ
2. æ£€æŸ¥è´¦æˆ·ä½™é¢
3. ç¡®è®¤ç½‘ç»œè¿æ¥

### MongoDB è¿æ¥å¤±è´¥

```bash
# æ£€æŸ¥ MongoDB çŠ¶æ€
mongosh --eval "db.adminCommand('ping')"
```

### 3D æ¨¡å‹åŠ è½½å¤±è´¥

1. ç¡®è®¤æ–‡ä»¶è·¯å¾„æ­£ç¡®
2. æ£€æŸ¥æ–‡ä»¶æ ¼å¼æ˜¯å¦æ”¯æŒ
3. æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯

## ğŸ“¦ æ„å»ºç”Ÿäº§ç‰ˆæœ¬

### å‰ç«¯

```bash
npm run build
npm run preview  # é¢„è§ˆæ„å»ºç»“æœ
```

### åç«¯

```bash
cd server
npm run build
npm start
```

## ğŸš§ TODO / æœªæ¥è®¡åˆ’

- [ ] æ¡Œé¢åº”ç”¨æ‰“åŒ…ï¼ˆElectron/Tauriï¼‰
- [ ] æ›´å¤š AI æ¨¡å‹æ”¯æŒï¼ˆAzure OpenAI, Claude, Geminiï¼‰
- [ ] å®æ—¶è¯­éŸ³è¯†åˆ«ï¼ˆSTTï¼‰
- [ ] å¤šè¯­è¨€æ”¯æŒ
- [ ] æ’ä»¶ç³»ç»Ÿ
- [ ] ç§»åŠ¨ç«¯é€‚é…

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“„ è®¸å¯

MIT License

## ğŸ™ è‡´è°¢

- [Three.js](https://threejs.org/) - 3D å›¾å½¢åº“
- [Ready Player Me](https://readyplayer.me) - 3D è§’è‰²ç”Ÿæˆ
- [OpenAI](https://openai.com) - AI æœåŠ¡
- [React](https://react.dev) - UI æ¡†æ¶

---

å¦‚æœ‰é—®é¢˜ï¼Œè¯·é€šè¿‡ [GitHub Issues](https://github.com/ghlonghan007/aichatbot/issues) è”ç³»ã€‚
